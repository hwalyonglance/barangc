<div id="kategori-form" fxLayout="row">
	<div fxFlex.xs="0" fxFlex.sm="10" fxFlex.md="15" fxFlex.lg="20"></div>
	<form [formGroup]="barangForm" (ngSubmit)="onSubmit(barangForm)" fxFlex.xs="100" fxFlex.sm="80" fxFlex.md="70" fxFlex.lg="60" novalidate>
		<md-card class="demo-card demo-basic">
			<md-toolbar color="primary">Barang ({{ action }})</md-toolbar>
			<md-card-content fxLayout="column" style="padding: 15px;">
				<div fxFlex fxHide>
					<md-input-container class="full-width">
						<input mdInput readonly formControlName="UUID" [type]="FORM.RULES.UUID.type" [placeholder]="FORM.RULES.UUID.label" [required]="FORM.RULES.UUID.required">
					</md-input-container>
				</div>
				<div fxFlex style='height: 200px;'>
					<img [src]="foto" #imgp style='height: 200px'>
				</div>
				<div fxFlex style='padding-top: 5px'>
					<md-select class='full-width' formControlName='categoryUUID' [placeholder]="FORM.RULES.categoryUUID.label" [required]="FORM.RULES.categoryUUID.required" floatPlaceholder="floatPlaceholder">
						<md-option *ngFor='let _Category of $Categories' [value]='_Category.UUID'>{{ _Category.categoryName }}</md-option>
					</md-select>
					<md-error class='small' *ngIf='barangForm.get("categoryUUID").hasError("required")'>{{ FORM.VALIDATION_MESSAGES.categoryUUID.required }}</md-error>
					<md-hint class='small' *ngIf='barangForm.get("categoryUUID").valid'>{{ FORM.VALIDATION_MESSAGES.categoryUUID.valid }}</md-hint>
				</div>
				<div fxFlex>
					<md-input-container class="full-width">
						<input mdInput formControlName="nama" id="kategori-nama" [type]="FORM.RULES.nama.type" [placeholder]="FORM.RULES.nama.label" [required]="FORM.RULES.nama.required" [minlength]='FORM.RULES.nama.minLength' [maxlength]='FORM.RULES.nama.maxLength'>
						<md-error *ngIf="barangForm.get('nama').hasError('required')">{{ FORM.VALIDATION_MESSAGES.nama.required }}</md-error>
						<md-error *ngIf="barangForm.get('nama').hasError('minlength')">{{ FORM.VALIDATION_MESSAGES.nama.minLength }}</md-error>
						<md-error *ngIf="barangForm.get('nama').hasError('maxlength')">{{ FORM.VALIDATION_MESSAGES.nama.maxLength }}</md-error>
						<md-hint *ngIf="barangForm.get('nama').valid">{{ FORM.VALIDATION_MESSAGES.nama.valid }}</md-hint>
						<md-hint align="end">
							<md-icon>mode_edit</md-icon>
							<span aria-live="polite"> {{ barangForm.get('nama').value.length + '/' + FORM.RULES.nama.maxLength }} </span>
						</md-hint>
					</md-input-container>
				</div>
				<div fxFlex style='background-color: lightgreen;padding: 15px 0 45px 0;'>
					<button md-raised-button type='button' id='btn-file' (change)='file()'>
						<input formControlName='field' type="file" #itf style='width:100%; opacity:0;'>
					</button>
				</div>
				<div fxFlex>
					<md-input-container class="full-width">
						<input mdInput formControlName="harga" [type]="FORM.RULES.harga.type" (keypress)='onKeyPress($event)' [placeholder]="FORM.RULES.harga.label" [min]="FORM.RULES.harga.min" [max]="FORM.RULES.harga.max" [step]="FORM.RULES.harga.step" [required]="FORM.RULES.harga.required">
						<md-error *ngIf="barangForm.get('harga').hasError('required')">{{ FORM.VALIDATION_MESSAGES.harga.required }}</md-error>
						<md-error *ngIf="barangForm.get('harga').hasError('minlength')">{{ FORM.VALIDATION_MESSAGES.harga.minValue }}</md-error>
						<md-error *ngIf="barangForm.get('harga').hasError('maxlength')">{{ FORM.VALIDATION_MESSAGES.harga.maxValue }}</md-error>
						<md-hint *ngIf="barangForm.get('harga').valid">{{ FORM.VALIDATION_MESSAGES.harga.valid }}</md-hint>
						<md-hint align="end">
							<md-icon>mode_edit</md-icon>
							<span aria-live="polite"> {{ barangForm.get('harga').value | currency:'IDR' }} / {{ FORM.RULES.harga.max | currency:'IDR' }} </span>
						</md-hint>
					</md-input-container>
				</div>
				<div fxFlex>
					<md-input-container class="full-width">
						<input mdInput formControlName="stok" [type]="FORM.RULES.stok.type" (keypress)='onKeyPress($event)' [placeholder]="FORM.RULES.stok.label" [min]="FORM.RULES.stok.min" [max]="FORM.RULES.stok.max" [step]="FORM.RULES.stok.step" [required]="FORM.RULES.stok.required">
						<md-error *ngIf="barangForm.get('stok').hasError('required')">{{ FORM.VALIDATION_MESSAGES.stok.required }}</md-error>
						<md-error *ngIf="barangForm.get('stok').hasError('minlength')">{{ FORM.VALIDATION_MESSAGES.stok.minLength }}</md-error>
						<md-error *ngIf="barangForm.get('stok').hasError('maxlength')">{{ FORM.VALIDATION_MESSAGES.stok.maxLength }}</md-error>
						<md-hint *ngIf="barangForm.get('stok').valid">{{ FORM.VALIDATION_MESSAGES.stok.valid }}</md-hint>
						<md-hint align="end">
							<md-icon>mode_edit</md-icon>
							<span aria-live="polite"> {{ barangForm.get('stok').value + '/' + FORM.RULES.stok.max }} </span>
						</md-hint>
					</md-input-container>
				</div>
				<div fxFlex>
					<md-input-container class="full-width">
						<label>
							 {{ FORM.RULES.keterangan.label }}
							<textarea mdInput mdTextareaAutosize formControlName="keterangan" class="keterangan" [maxlength]="FORM.RULES.keterangan.maxLength"></textarea>
						</label>
						<md-hint align="start">{{ FORM.VALIDATION_MESSAGES.keterangan.valid }}</md-hint>
						<md-hint align="end">{{ barangForm.get('keterangan').value.length + '/' + FORM.RULES.keterangan.maxLength }}</md-hint>
					</md-input-container>
				</div>
			</md-card-content>
			<md-card-actions align="end" style="padding:15px;">
				<button md-raised-button color="primary" type="submit">{{ action }}</button>
			</md-card-actions>
		</md-card>
	</form>
	<div fxFlex.xs="0" fxFlex.sm="10" fxFlex.md="15" fxFlex.lg="20"></div>
</div>
